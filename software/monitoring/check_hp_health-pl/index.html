---
layout: page
title: check_hp_health.pl

---

Monitor the health state of you HP ProLiant.



<div class="alert"><strong>Please note:</strong> There is another more extensive plugin available at <a href="http://labs.consol.de/lang/en/nagios/check_hpasm/">labs.consol.de</a>.</div>

This plugin uses the <a href="http://h18013.www1.hp.com/products/servers/management/psp/index.html">ProLiant Support Pack</a> to check the health of you HP server. See my <a href="/2011/08/installing-an-hp-proliant/">article</a> to learn how to setup the software on Debian/Ubuntu systems.

By default all checks are performed, but some of them might not be supported on your system. You can disable single checks with:



{% highlight bash %}
--no-check-ctrl			skip CONTROLLER checks
--no-check-server		skip SERVER checks
--no-check-powersupply	skip POWERSUPPLY checks
--no-check-temp			skip TEMPERATURE checks
--no-check-dimms		skip RAM checks
--no-check-fans			skip FAN checks
{% endhighlight %}



The current version doesn't support fan-checks until HP tells me how to read the output (read more at the <a href="/2011/08/installing-an-hp-proliant/">article</a>), so you will have to run this plugin at least with  `--no-check-fans` .

<a href='/wp-content/uploads/stuff/monitoring/check_hp_health.pl'>Here is the code</a>.


<h2>Dependencies</h2>

* [hpasmcli](http://h18013.www1.hp.com/products/servers/management/psp/index.html) in  `/sbin/hpasmcli` 
* [hpacucli](http://h18013.www1.hp.com/products/servers/management/psp/index.html) in  `/usr/sbin/hpacucli` 
* [Getopt::Long](http://search.cpan.org/perldoc?Getopt::Long)

Please consider to take a look at my <a href="/software/nagios/plugin-setup-notes/">general setup notes</a>.

<div class="download"><strong>Download:</strong>
Perl: <a href='/wp-content/uploads/stuff/monitoring/check_hp_health.pl'>check_hp_health.pl</a>
<small>(Please take a look at the <a href="/man-page/">man-page</a>. Browse <a href="https://bt.binfalse.de/">bugs and feature requests</a>.)</small>
</div>
